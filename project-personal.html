<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI 이미지 분석 프로젝트 상세</title>
  <link rel="stylesheet" href="./css/styles.css">
  <link rel="stylesheet" href="./css/portfolio.css">
</head>
<body>
  <div class="terminal-container">
    <div class="terminal-header">
      <div class="terminal-dots">
        <div class="terminal-dot red"></div>
        <div class="terminal-dot yellow"></div>
        <div class="terminal-dot green"></div>
      </div>
      <div class="terminal-title">Portfolio</div>
    </div>

    <div class="terminal-content">
      <aside class="sidebar">
        <nav>
          <a href="portfolio.html#projects" class="active sidebar-back">
            <span class="nav-icon"><</span>
            <span class="nav-text">back</span>
          </a>
          <hr class="sidebar-divider">
          <div class="sidebar-section-title">sections</div>
          <a href="#project-detail">
            <span class="nav-icon">></span>
            <span class="nav-text">프로젝트 소개</span>
          </a>
          <a href="#overview">
            <span class="nav-icon">></span>
            <span class="nav-text">개요</span>
          </a>
          <a href="#architecture">
            <span class="nav-icon">></span>
            <span class="nav-text">아키텍처</span>
          </a>
          <a href="#contributions">
            <span class="nav-icon">></span>
            <span class="nav-text">역할 및 기여</span>
          </a>
          <a href="#retrospective">
            <span class="nav-icon">></span>
            <span class="nav-text">프로젝트 후기</span>
          </a>
          <a href="#demo">
            <span class="nav-icon">></span>
            <span class="nav-text">프로젝트 시연 영상</span>
          </a>
        </nav>
      </aside>

      <div class="main-content">
        <main class="shell">
          <section id="project-detail" class="hero-section project-hero">
            <div class="hero-content">
              <div class="hero-text">
                <p class="hero-kicker">Project</p>
                <div class="hero-title-row">
                  <h1 class="hero-name">AI 이미지 분석 (마스크 &amp; 퍼스널컬러)</h1>
                  <span class="hero-period">2024.06.28 ~ 2024.07.18</span>
                </div>
                <div class="ppt-slider" data-total="73" tabindex="0" aria-label="AI 이미지 분석 프로젝트 주요 화면 슬라이드">
                  <div class="ppt-viewport">
                    <div class="ppt-track"></div>
                  </div>
                  <div class="ppt-controls">
                    <button type="button" class="ppt-btn ppt-prev" aria-label="이전 슬라이드">Prev</button>
                    <div class="ppt-dots" aria-hidden="false"></div>
                    <div class="ppt-counter" aria-live="polite"></div>
                    <button type="button" class="ppt-btn ppt-next" aria-label="다음 슬라이드">Next</button>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section id="overview" class="content-section detail-section">
            <h2 class="section-title">개요</h2>
            <div class="section-content">
              <p class="detail-paragraph">마스크 감지·퍼스널 컬러 진단·가상 메이크업을 통합한 AI 뷰티 솔루션입니다.</p>
              <h3 class="detail-subtitle">주요 기능</h3>
              <ol class="detail-steps">
                <li>
                  <h3>마스크 감지</h3>
                  <p>VGG16 기반 모델로 마스크 착용 여부를 자동 인식</p>
                </li>
                <li>
                  <h3>AI 퍼스널 컬러 진단</h3>
                  <p>이미지 분석으로 봄/여름/가을/겨울 타입을 분류</p>
                </li>
                <li>
                  <h3>가상 메이크업 시뮬레이션</h3>
                  <p>BeautyGAN 기반으로 다양한 메이크업 스타일을 적용</p>
                </li>
                <li>
                  <h3>사용자 관리 및 이력 저장</h3>
                  <p>Redis 기반 인증과 마이페이지 이력 관리 기능 제공</p>
                </li>
              </ol>
            </div>
          </section>

          <section id="architecture" class="content-section detail-section">
            <h2 class="section-title">아키텍처</h2>
            <div class="section-content">
              <div class="detail-media">
                <button type="button" class="image-zoom-button" aria-label="AI 이미지 분석 아키텍처 다이어그램 확대 보기">
                  <img src="./image/personal/personalArci.svg" alt="AI 이미지 분석 아키텍처 다이어그램" class="architecture-zoom-target">
                </button>
              </div>
            </div>
          </section>

          <section id="contributions" class="content-section detail-section">
            <h2 class="section-title">역할 및 기여</h2>
            <div class="section-content">
              <div class="detail-vertical">
                <div class="detail-vertical-item">
                  <div class="detail-vertical-header">
                    <h3>UI 총괄 및 디자인 시스템 구축</h3>
                    <div class="detail-inline-stack">
                      <span class="detail-inline-tag">Vue.js</span>
                      <span class="detail-inline-tag">Tailwind CSS</span>
                    </div>
                  </div>
                  <p>메인 UI와 대표 디자인을 총괄 설계하고 컴포넌트 기준을 정립</p>
                  <div class="detail-ui-gallery detail-ui-gallery--wide">
                    <button type="button" class="image-zoom-button" aria-label="AI 이미지 분석 화면 예시 1 확대 보기">
                      <img src="./image/personal/front_1.jpg" alt="AI 이미지 분석 화면 예시 1">
                    </button>
                    <button type="button" class="image-zoom-button" aria-label="AI 이미지 분석 화면 예시 2 확대 보기">
                      <img src="./image/personal/front_2.jpg" alt="AI 이미지 분석 화면 예시 2">
                    </button>
                    <button type="button" class="image-zoom-button" aria-label="AI 이미지 분석 화면 예시 3 확대 보기">
                      <img src="./image/personal/front_3.jpg" alt="AI 이미지 분석 화면 예시 3">
                    </button>
                    <button type="button" class="image-zoom-button" aria-label="AI 이미지 분석 화면 예시 4 확대 보기">
                      <img src="./image/personal/front_4.jpg" alt="AI 이미지 분석 화면 예시 4">
                    </button>
                  </div>
                </div>
                <div class="detail-vertical-item">
                  <div class="detail-vertical-header">
                    <h3>Q&A·마이페이지 풀스택 구현</h3>
                    <div class="detail-inline-stack">
                      <span class="detail-inline-tag">Spring Boot</span>
                      <span class="detail-inline-tag">REST API</span>
                    </div>
                  </div>
                  <p>Q&A 게시판과 마이페이지를 백엔드까지 포함해 전 구간 구현</p>
                  <div class="detail-ui-gallery">
                    <button type="button" class="image-zoom-button" aria-label="Q&A 화면 확대 보기">
                      <img src="./image/personal/qna.jpg" alt="Q&A 화면">
                    </button>
                    <button type="button" class="image-zoom-button" aria-label="마이페이지 화면 확대 보기">
                      <img src="./image/personal/mypage.jpg" alt="마이페이지 화면">
                    </button>
                  </div>
                </div>
                <div class="detail-vertical-item">
                  <div class="detail-vertical-header">
                    <h3>관리자 기능 개발</h3>
                    <div class="detail-inline-stack">
                      <span class="detail-inline-tag">Spring Boot</span>
                      <span class="detail-inline-tag">Redis</span>
                    </div>
                  </div>
                  <p>회원 관리 및 인증 흐름을 보조하는 관리자 기능을 추가</p>
                  <div class="detail-ui-gallery">
                    <button type="button" class="image-zoom-button" aria-label="관리자 기능 화면 1 확대 보기">
                      <img src="./image/personal/admin_1.jpg" alt="관리자 기능 화면 1">
                    </button>
                    <button type="button" class="image-zoom-button" aria-label="관리자 기능 화면 2 확대 보기">
                      <img src="./image/personal/admin_2.jpg" alt="관리자 기능 화면 2">
                    </button>
                  </div>
                </div>
                <div class="detail-vertical-item">
                  <div class="detail-vertical-header">
                    <h3>BeautyGAN 모델 연동 및 크로스 통신</h3>
                    <div class="detail-inline-stack">
                      <span class="detail-inline-tag">Django</span>
                      <span class="detail-inline-tag">BeautyGAN</span>
                    </div>
                  </div>
                  <p>오픈소스 모델을 Django 서버에 배치하고 서비스와의 크로스 통신을 구현</p>
                  <div class="detail-media">
                    <button type="button" class="image-zoom-button" aria-label="BeautyGAN 결과 이미지 확대 보기">
                      <img src="./image/personal/beautygan.jpg" alt="BeautyGAN 결과 예시">
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section id="retrospective" class="content-section detail-section">
            <h2 class="section-title">프로젝트 후기</h2>
            <div class="section-content">
              <div class="detail-duo">
                <article class="detail-duo-card">
                  <h3>향후 개선 방향</h3>
                  <p class="detail-paragraph">모델 추론 지연은 비동기 큐로 처리하고, 캐싱·배치 처리·경량화(ONNX/양자화)를 적용해 응답 시간을 줄이는 방향으로 개선해보고 싶습니다. 결과 저장/비교 기능과 에러 로그 수집을 더해 사용자 경험과 운영 안정성도 함께 높이는 형태로 확장하면 좋겠습니다.</p>
                </article>
                <article class="detail-duo-card">
                  <h3>성장 및 배움</h3>
                  <ul class="detail-list">
                    <li>오픈소스 모델을 서비스에 연결하며 배포·연동 흐름을 이해</li>
                    <li>UI 총괄을 맡으며 사용자 관점의 화면 구성과 일관성 유지 경험</li>
                    <li>Q&A·마이페이지를 풀스택으로 구현하며 API 설계 감각을 확장</li>
                  </ul>
                </article>
              </div>
            </div>
          </section>

          <section id="demo" class="content-section detail-section">
            <h2 class="section-title">프로젝트 시연 영상</h2>
            <div class="section-content">
              <div class="detail-duo">
                <article class="detail-duo-card">
                  <h3 class="detail-card-title detail-card-title--with-hint">
                    마스크 인식 시연
                    <span class="detail-card-hint">클릭 시 처음부터 재생</span>
                  </h3>
                  <div class="detail-media">
                    <button type="button" class="gif-restart" aria-label="마스크 인식 시연 GIF 재생">
                      <img src="./image/personal/mask.gif" alt="마스크 인식 여부 시연">
                    </button>
                  </div>
                </article>
                <article class="detail-duo-card">
                  <h3>BeautyGAN 메이크업 시연</h3>
                  <div class="detail-media">
                    <video controls preload="metadata" poster="./image/personal/makeup.mp4.png" aria-label="BeautyGAN 메이크업 시연 영상">
                      <source src="./image/personal/makeup.mp4" type="video/mp4">
                    </video>
                  </div>
                </article>
                <article class="detail-duo-card">
                  <h3>전체 서비스 시연</h3>
                  <div class="detail-media">
                    <video controls preload="metadata" poster="./image/personal/ppt/1.jpg" aria-label="전체 서비스 시연 영상">
                      <source src="./image/personal/projectvideo.mp4" type="video/mp4">
                    </video>
                  </div>
                </article>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>
  </div>

  <div class="image-modal" hidden aria-hidden="true" role="dialog" aria-label="이미지 확대 보기">
    <div class="image-modal-backdrop" data-close="true"></div>
    <div class="image-modal-content">
      <button type="button" class="image-modal-close" aria-label="닫기">Close</button>
      <img src="" alt="" class="image-modal-image">
    </div>
  </div>

  <script>
    (() => {
      const slider = document.querySelector('.ppt-slider');
      if (!slider) return;

      const total = Number(slider.dataset.total || 0);
      const track = slider.querySelector('.ppt-track');
      const dotsWrap = slider.querySelector('.ppt-dots');
      const counter = slider.querySelector('.ppt-counter');
      const prevButton = slider.querySelector('.ppt-prev');
      const nextButton = slider.querySelector('.ppt-next');
      let currentIndex = 0;

      if (!track || !dotsWrap || total <= 0) return;

      const createSlide = (index) => {
        const slide = document.createElement('div');
        slide.className = 'ppt-slide';
        const img = document.createElement('img');
        img.src = `./image/personal/ppt/${index}.jpg`;
        img.alt = `AI 이미지 분석 프로젝트 화면 ${index}`;
        img.loading = 'lazy';
        slide.appendChild(img);
        return slide;
      };

      const createDot = (index) => {
        const dot = document.createElement('button');
        dot.type = 'button';
        dot.className = 'ppt-dot';
        dot.setAttribute('aria-label', `${index}번 슬라이드`);
        dot.dataset.index = String(index - 1);
        return dot;
      };

      for (let i = 1; i <= total; i += 1) {
        track.appendChild(createSlide(i));
        dotsWrap.appendChild(createDot(i));
      }

      const dots = Array.from(dotsWrap.querySelectorAll('.ppt-dot'));

      const update = () => {
        track.style.transform = `translateX(-${currentIndex * 100}%)`;
        dots.forEach((dot, index) => {
          dot.classList.toggle('active', index === currentIndex);
          dot.setAttribute('aria-current', index === currentIndex ? 'true' : 'false');
        });
        if (counter) {
          counter.textContent = `${currentIndex + 1} / ${total}`;
        }
      };

      const goTo = (index) => {
        currentIndex = (index + total) % total;
        update();
      };

      const goNext = () => goTo(currentIndex + 1);
      const goPrev = () => goTo(currentIndex - 1);

      prevButton?.addEventListener('click', goPrev);
      nextButton?.addEventListener('click', goNext);

      dotsWrap.addEventListener('click', (event) => {
        const target = event.target.closest('.ppt-dot');
        if (!target) return;
        const index = Number(target.dataset.index || '0');
        goTo(index);
      });

      slider.addEventListener('keydown', (event) => {
        if (event.key === 'ArrowRight') {
          goNext();
        } else if (event.key === 'ArrowLeft') {
          goPrev();
        }
      });

      let touchStartX = 0;
      let touchActive = false;
      slider.addEventListener('touchstart', (event) => {
        if (!event.touches || event.touches.length === 0) return;
        touchStartX = event.touches[0].clientX;
        touchActive = true;
      }, { passive: true });

      slider.addEventListener('touchend', (event) => {
        if (!touchActive || !event.changedTouches || event.changedTouches.length === 0) return;
        const touchEndX = event.changedTouches[0].clientX;
        const delta = touchEndX - touchStartX;
        if (Math.abs(delta) > 40) {
          if (delta < 0) {
            goNext();
          } else {
            goPrev();
          }
        }
        touchActive = false;
      }, { passive: true });

      update();
    })();

    (() => {
      const triggers = Array.from(document.querySelectorAll('.image-zoom-button'));
      const modal = document.querySelector('.image-modal');
      const modalImage = modal?.querySelector('.image-modal-image');
      const closeButton = modal?.querySelector('.image-modal-close');
      let lastTrigger = null;

      if (triggers.length === 0 || !modal || !modalImage) return;

      const openModal = (trigger) => {
        const img = trigger.querySelector('img');
        if (!img) return;
        modalImage.src = img.currentSrc || img.src;
        modalImage.alt = img.alt || '확대 이미지';
        modal.hidden = false;
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
        lastTrigger = trigger;
        closeButton?.focus();
      };

      const closeModal = () => {
        modal.hidden = true;
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
        lastTrigger?.focus();
      };

      triggers.forEach((trigger) => {
        trigger.addEventListener('click', () => openModal(trigger));
        trigger.addEventListener('keydown', (event) => {
          if (event.key === 'Enter' || event.key === ' ') {
            event.preventDefault();
            openModal(trigger);
          }
        });
      });

      modal.addEventListener('click', (event) => {
        if (event.target && event.target.closest('[data-close="true"]')) {
          closeModal();
        }
      });

      closeButton?.addEventListener('click', closeModal);

      document.addEventListener('keydown', (event) => {
        if (!modal.hidden && event.key === 'Escape') {
          closeModal();
        }
      });
    })();

    (() => {
      document.querySelectorAll('.gif-restart').forEach((button) => {
        const img = button.querySelector('img');
        if (!img) return;
        button.addEventListener('click', () => {
          const src = img.src;
          img.src = '';
          img.src = src;
        });
        button.addEventListener('keydown', (event) => {
          if (event.key === 'Enter' || event.key === ' ') {
            event.preventDefault();
            const src = img.src;
            img.src = '';
            img.src = src;
          }
        });
      });
    })();
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KBO 프로젝트 상세</title>
  <link rel="stylesheet" href="./css/styles.css">
  <link rel="stylesheet" href="./css/portfolio.css">
</head>
<body>
  <div class="terminal-container">
    <div class="terminal-header">
      <div class="terminal-dots">
        <div class="terminal-dot red"></div>
        <div class="terminal-dot yellow"></div>
        <div class="terminal-dot green"></div>
      </div>
      <div class="terminal-title">Portfolio</div>
    </div>

    <div class="terminal-content">
      <aside class="sidebar">
        <nav>
          <a href="portfolio.html#projects" class="active sidebar-back">
            <span class="nav-icon"><</span>
            <span class="nav-text">back</span>
          </a>
          <hr class="sidebar-divider">
          <div class="sidebar-section-title">sections</div>
          <a href="#project-detail">
            <span class="nav-icon">></span>
            <span class="nav-text">프로젝트 소개</span>
          </a>
          <a href="#overview">
            <span class="nav-icon">></span>
            <span class="nav-text">개요</span>
          </a>
          <a href="#contributions">
            <span class="nav-icon">></span>
            <span class="nav-text">주요 역할 및 기여</span>
          </a>
          <a href="#tech-stack">
            <span class="nav-icon">></span>
            <span class="nav-text">기술 스택</span>
          </a>
          <a href="#screens">
            <span class="nav-icon">></span>
            <span class="nav-text">주요 화면</span>
          </a>
          <a href="#retrospective">
            <span class="nav-icon">></span>
            <span class="nav-text">프로젝트 후기</span>
          </a>
          <a href="#demo">
            <span class="nav-icon">></span>
            <span class="nav-text">프로젝트 시연 영상</span>
          </a>
        </nav>
      </aside>

      <div class="main-content">
        <main class="shell">
          <section id="project-detail" class="hero-section project-hero">
            <div class="hero-content">
              <div class="hero-text">
                <p class="hero-kicker">Project</p>
                <div class="hero-title-row">
                  <h1 class="hero-name">KBO 리그 통합 데이터 플랫폼</h1>
                  <span class="hero-period">2024.05 ~ 2024.06</span>
                </div>
                <div class="ppt-slider" data-total="44" tabindex="0" aria-label="KBO 프로젝트 주요 화면 슬라이드">
                  <div class="ppt-viewport">
                    <div class="ppt-track"></div>
                  </div>
                  <div class="ppt-controls">
                    <button type="button" class="ppt-btn ppt-prev" aria-label="이전 슬라이드">Prev</button>
                    <div class="ppt-dots" aria-hidden="false"></div>
                    <div class="ppt-counter" aria-live="polite"></div>
                    <button type="button" class="ppt-btn ppt-next" aria-label="다음 슬라이드">Next</button>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section id="overview" class="content-section detail-section">
            <h2 class="section-title">개요</h2>
            <div class="section-content">
              <p class="detail-paragraph">
                흩어진 KBO 리그 정보를 한곳에 모아 경기 데이터, 뉴스, 구단 정보,
                커뮤니티를 빠르게 탐색할 수 있는<br>
                통합형 야구 정보 플랫폼을 구축했습니다.
              </p>
              <h3 class="detail-subtitle">주요 기능</h3>
              <ol class="detail-steps">
                <li>
                  <h3>실시간 데이터 통합</h3>
                  <p>KBO 경기 및 선수 데이터를 통합해 핵심 정보를 한 화면에 제공</p>
                </li>
                <li>
                  <h3>날씨 연동 시각화</h3>
                  <p>야구장 위치 기반 날씨 정보를 연동해 직관적인 시각화 제공</p>
                </li>
                <li>
                  <h3>뉴스 자동 수집</h3>
                  <p>최신 KBO 뉴스를 자동 수집해 뉴스 피드로 제공</p>
                </li>
                <li>
                  <h3>구단 인사이트</h3>
                  <p>구단별 모기업 증권 정보를 차트·지표로 시각화</p>
                </li>
                <li>
                  <h3>커뮤니티</h3>
                  <p>응원 게시판 커뮤니티 및 댓글/필터링/신고 시스템 제공</p>
                </li>
                <li>
                  <h3>신뢰성 확보</h3>
                  <p>데이터 출처·오류 모니터링·사용자 피드백 기반으로 신뢰성 강화</p>
                </li>
              </ol>
            </div>
          </section>

          <section id="contributions" class="content-section detail-section">
            <h2 class="section-title">주요 역할 및 기여</h2>
            <div class="section-content">
              <div class="detail-vertical">
                <div class="detail-vertical-item">
                  <h3>데이터 수집 자동화</h3>
                  <p>크롤러 개발 및 구조 변경 대응 로직 구현</p>
                </div>
                <div class="detail-vertical-item">
                  <h3>백엔드 통합 설계</h3>
                  <p>Django/Spring MVC 이기종 백엔드 통신 설계</p>
                </div>
                <div class="detail-vertical-item">
                  <h3>품질 모니터링</h3>
                  <p>크롤링 스케줄러 및 오류 감지로 데이터 품질 확보</p>
                </div>
                <div class="detail-vertical-item">
                  <h3>시각화 최적화</h3>
                  <p>Highcharts 대시보드 구성 및 인터랙션 최적화</p>
                </div>
                <div class="detail-vertical-item">
                  <h3>커뮤니티 설계</h3>
                  <p>응원 커뮤니티 기획 및 UI/UX 설계</p>
                </div>
              </div>
            </div>
          </section>

          <section id="tech-stack" class="content-section detail-section">
            <h2 class="section-title">기술 스택</h2>
            <div class="section-content">
              <div class="detail-stack">
                <div class="detail-stack-group">
                  <h3 class="detail-stack-title">Front-end</h3>
                  <div class="detail-tags">
                    <span class="detail-tag">HTML5</span>
                    <span class="detail-tag">CSS3</span>
                    <span class="detail-tag">JavaScript</span>
                  </div>
                </div>
                <div class="detail-stack-group">
                  <h3 class="detail-stack-title">Back-end</h3>
                  <div class="detail-tags">
                    <span class="detail-tag">Django</span>
                    <span class="detail-tag">Spring MVC</span>
                    <span class="detail-tag">RESTful API</span>
                  </div>
                </div>
                <div class="detail-stack-group">
                  <h3 class="detail-stack-title">Data</h3>
                  <div class="detail-tags">
                    <span class="detail-tag">BeautifulSoup4</span>
                    <span class="detail-tag">Selenium</span>
                  </div>
                </div>
                <div class="detail-stack-group">
                  <h3 class="detail-stack-title">Database</h3>
                  <div class="detail-tags">
                    <span class="detail-tag">MySQL</span>
                    <span class="detail-tag">Oracle</span>
                  </div>
                </div>
                <div class="detail-stack-group">
                  <h3 class="detail-stack-title">Tools</h3>
                  <div class="detail-tags">
                    <span class="detail-tag">Git</span>
                    <span class="detail-tag">GitHub</span>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section id="screens" class="content-section detail-section">
            <h2 class="section-title">주요 화면</h2>
            <div class="section-content">
              <div class="detail-media">
                <img src="./image/kbo/crawling.gif" alt="크롤링 구조 변경 대응 시각화">
              </div>
            </div>
          </section>

          <section id="retrospective" class="content-section detail-section">
            <h2 class="section-title">프로젝트 후기</h2>
            <div class="section-content">
              <div class="detail-duo">
                <article class="detail-duo-card">
                  <h3>향후 개선 방향</h3>
                  <ul class="detail-list">
                    <li>경기 흐름 예측 모델 도입으로 인사이트 제공 확대</li>
                    <li>타자·투수 심화 지표 및 비교 대시보드 고도화</li>
                    <li>공식 데이터와의 정합성 검증 및 품질 지표 공개</li>
                    <li>모바일 사용성을 고려한 경량 UI/필터링 개선</li>
                  </ul>
                </article>
                <article class="detail-duo-card">
                  <h3>성장 및 배움</h3>
                  <ul class="detail-list">
                    <li>크롤링 파이프라인 안정화와 구조 변경 대응 경험</li>
                    <li>이기종 백엔드 통합 및 API 설계의 중요성 체득</li>
                    <li>데이터 수집 → 정제 → 시각화 전 과정 운영 경험</li>
                    <li>정보 구조화와 사용자 탐색 흐름 설계 역량 강화</li>
                  </ul>
                </article>
              </div>
            </div>
          </section>

          <section id="demo" class="content-section detail-section">
            <h2 class="section-title">프로젝트 시연 영상</h2>
            <div class="section-content">
              <div class="detail-media">
                <img src="./image/kbo/demo.gif" alt="KBO 프로젝트 시연 영상">
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>
  </div>

  <script>
    (() => {
      const slider = document.querySelector('.ppt-slider');
      if (!slider) return;

      const total = Number(slider.dataset.total || 0);
      const track = slider.querySelector('.ppt-track');
      const dotsWrap = slider.querySelector('.ppt-dots');
      const counter = slider.querySelector('.ppt-counter');
      const prevButton = slider.querySelector('.ppt-prev');
      const nextButton = slider.querySelector('.ppt-next');
      let currentIndex = 0;

      if (!track || !dotsWrap || total <= 0) return;

      const createSlide = (index) => {
        const slide = document.createElement('div');
        slide.className = 'ppt-slide';
        const img = document.createElement('img');
        img.src = `./image/kbo/ppt/${index}.jpg`;
        img.alt = `KBO 프로젝트 PPT 화면 ${index}`;
        img.loading = 'lazy';
        slide.appendChild(img);
        return slide;
      };

      const createDot = (index) => {
        const dot = document.createElement('button');
        dot.type = 'button';
        dot.className = 'ppt-dot';
        dot.setAttribute('aria-label', `${index}번 슬라이드`);
        dot.dataset.index = String(index - 1);
        return dot;
      };

      for (let i = 1; i <= total; i += 1) {
        track.appendChild(createSlide(i));
        dotsWrap.appendChild(createDot(i));
      }

      const dots = Array.from(dotsWrap.querySelectorAll('.ppt-dot'));

      const update = () => {
        track.style.transform = `translateX(-${currentIndex * 100}%)`;
        dots.forEach((dot, index) => {
          dot.classList.toggle('active', index === currentIndex);
          dot.setAttribute('aria-current', index === currentIndex ? 'true' : 'false');
        });
        if (counter) {
          counter.textContent = `${currentIndex + 1} / ${total}`;
        }
      };

      const goTo = (index) => {
        currentIndex = (index + total) % total;
        update();
      };

      const goNext = () => goTo(currentIndex + 1);
      const goPrev = () => goTo(currentIndex - 1);

      prevButton?.addEventListener('click', goPrev);
      nextButton?.addEventListener('click', goNext);

      dotsWrap.addEventListener('click', (event) => {
        const target = event.target.closest('.ppt-dot');
        if (!target) return;
        const index = Number(target.dataset.index || '0');
        goTo(index);
      });

      slider.addEventListener('keydown', (event) => {
        if (event.key === 'ArrowRight') {
          goNext();
        } else if (event.key === 'ArrowLeft') {
          goPrev();
        }
      });

      let touchStartX = 0;
      let touchActive = false;
      slider.addEventListener('touchstart', (event) => {
        if (!event.touches || event.touches.length === 0) return;
        touchStartX = event.touches[0].clientX;
        touchActive = true;
      }, { passive: true });

      slider.addEventListener('touchend', (event) => {
        if (!touchActive || !event.changedTouches || event.changedTouches.length === 0) return;
        const touchEndX = event.changedTouches[0].clientX;
        const delta = touchEndX - touchStartX;
        if (Math.abs(delta) > 40) {
          if (delta < 0) {
            goNext();
          } else {
            goPrev();
          }
        }
        touchActive = false;
      }, { passive: true });

      update();
    })();
  </script>
</body>
</html>
